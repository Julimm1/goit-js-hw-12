{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImagesByQuery(query) {\n    const URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"45237784-d0fd30a4ec7a7095f46d82183\";\n\n    return fetch(`${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n // Ініціалізація SimpleLightbox\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n});\n\nexport function showError(error) {\n    iziToast.error({\n        position: \"topRight\",\n        message: error,\n    });\n}\n\n\n// \n    export function renderGallery(hits)   { // Приймаємо масив hits\n  \n    const images = hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>`\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\" \n            />\n        </a>\n        <div class=\"gallery-content\">\n            <p class=\"text-title\">Likes<span  class=\"text\">${likes}</span></p>\n            <p class=\"text-title\">Views<span  class=\"text\">${views}</span></p>\n            <p class=\"text-title\">Comments<span  class=\"text\">${comments}</span></p>\n            <p class=\"text-title\">Downloads<span class=\"text\">${downloads}</span></p>\n        </div>\n    </li>`).join('');\n\n      document.querySelector('.gallery-list').insertAdjacentHTML(\"beforeend\", images);\n      \n     \n\n    lightbox.refresh(); // Оновлення Lightbox\n    \n}\n\nexport function cleanGallery() {\n    const list = document.querySelector(\".gallery-list\");\n    list.innerHTML = \"\";\n}\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport searchImagesByQuery from './js/pixabay-api.js';\nimport { showError, renderGallery,  cleanGallery } from './js/render-functions.js';\n\n\n\nconst searchForm = document.querySelector(\"#searchForm\");\nconst gallery = document.querySelector(\".gallery-list\")\nconst searchInput = document.querySelector(\"#searchInput\");\nconst searchLoader = document.querySelector(\".loading\");\n\n\n  searchForm.addEventListener(\"submit\", handleSearch); // Додаємо обробник події\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n    const queryValue = searchInput.value.trim().toLowerCase();; // Отримуємо значення з поля вводу\n//   const searchForm = event.currentTarget;\n  \n    if (!queryValue) return; // Перевірка на пустий запит\n searchLoader.classList.remove(\"hidden\"); // Показуємо завантажувач\n    cleanGallery(); \n\n\nsearchImagesByQuery(queryValue)\n    .then(data => {\n        if (data.hits.length === 0) { // Перевіряємо, чи є зображення\n            showError('Sorry, there are no images matching your search query. Please try again!')\n    } else {\n            renderGallery(data.hits); // Відображаємо зображення\n        }\n    })\n    .catch(error => {\n            showError(error.message); // Показуємо повідомлення про помилку\n    })\n    .finally(() => {\n            searchLoader.classList.add(\"hidden\"); // Приховуємо завантажувач\n            searchInput.value = \"\"; // Очищуємо поле вводу\n        });\n\n}\n\n\n\n"],"names":["searchImagesByQuery","query","response","lightbox","SimpleLightbox","showError","error","iziToast","renderGallery","hits","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","cleanGallery","list","searchForm","searchInput","searchLoader","handleSearch","event","queryValue","data"],"mappings":"6vBAAe,SAASA,EAAoBC,EAAO,CAI/C,OAAO,MAAM,qEAA2BA,CAAK,0DAA0D,EAClG,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCAA,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACnD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEM,SAASC,EAAUC,EAAO,CAC7BC,EAAS,MAAM,CACX,SAAU,WACV,QAASD,CACjB,CAAK,CACL,CAIW,SAASE,EAAcC,EAAQ,CAEtC,MAAMC,EAASD,EAAK,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAI;AAAA;AAAA,wCAEjEL,CAAa;AAAA;AAAA,uBAE9BD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,6DAIkCC,CAAK;AAAA,6DACLC,CAAK;AAAA,gEACFC,CAAQ;AAAA,gEACRC,CAAS;AAAA;AAAA,UAE/D,EAAE,KAAK,EAAE,EAEb,SAAS,cAAc,eAAe,EAAE,mBAAmB,YAAaP,CAAM,EAIhFP,EAAS,QAAO,CAEpB,CAEO,SAASe,GAAe,CAC3B,MAAMC,EAAO,SAAS,cAAc,eAAe,EACnDA,EAAK,UAAY,EACrB,CC3CA,MAAMC,EAAa,SAAS,cAAc,aAAa,EACvC,SAAS,cAAc,eAAe,EACtD,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAe,SAAS,cAAc,UAAU,EAGpDF,EAAW,iBAAiB,SAAUG,CAAY,EAEpD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAElB,MAAMC,EAAaJ,EAAY,MAAM,KAAM,EAAC,YAAW,EAGlDI,IACRH,EAAa,UAAU,OAAO,QAAQ,EACnCJ,IAGJlB,EAAoByB,CAAU,EACzB,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBrB,EAAU,0EAA0E,EAEpFG,EAAckB,EAAK,IAAI,CAEnC,CAAK,EACA,MAAMpB,GAAS,CACRD,EAAUC,EAAM,OAAO,CACnC,CAAK,EACA,QAAQ,IAAM,CACPgB,EAAa,UAAU,IAAI,QAAQ,EACnCD,EAAY,MAAQ,EAChC,CAAS,EAET"}